# enemies.py
from pgzero.actor import Actor
from config import ENEMY_SPEED, WIDTH, HEIGHT, LASER_TIME, LASER_SPEED
import random

enemies = [Actor("enemy", (100, 100))]

lasers = []
laser_from_left = True
laser_spawn_counter = 0

LASER_HEIGHT = 40
LASER_SPACING = 300

def spawn_laser():
    global laser_from_left

    laser = Actor("laser")

    laser.y = -LASER_HEIGHT

    if laser_from_left:
        laser.left = 0
        laser.block_side = "left"
    else:
        laser.right = WIDTH
        laser.block_side = "right"

    lasers.append(laser)
    laser_from_left = not laser_from_left
def update_enemies():
    global laser_spawn_counter
    dodged = 0
    for e in enemies:
        e.y += ENEMY_SPEED
        if e.y > 650:
            e.pos = (random.randint(50, 750), -50)
            dodged += 1
    # ----------------------
    # lasers
    # ----------------------
    for laser in lasers[:]:
        laser.y += LASER_SPEED

        if laser.y > HEIGHT + LASER_HEIGHT:
            lasers.remove(laser)
            dodged += 1

    laser_spawn_counter += LASER_SPEED
    if laser_spawn_counter >= LASER_SPACING:
        spawn_laser()
        laser_spawn_counter = 0
    return dodged
              
def draw_enemies():
    for e in enemies: 
        e.draw()
    for laser in lasers:
        laser.draw()











































































































































































































































































































































































































































































































        